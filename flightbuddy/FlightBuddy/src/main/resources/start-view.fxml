<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.flightbuddy.flightbuddy.StartController"
            prefWidth="1200"
            prefHeight="600">

    <!-- GÓRA: Logo i przyciski logowania/rejestracji -->
    <top>
        <HBox spacing="20" alignment="CENTER_LEFT" style="-fx-padding: 10; -fx-background-color: #f0f0f0;">
            <!-- Logo -->
            <ImageView fitWidth="60" fitHeight="60" preserveRatio="true">
                <image>
                    <Image url="@logo.png"/>
                </image>
            </ImageView>
            <Label text="FlightBuddy" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>

            <!-- Rozciągnięcie HBox, by przyciski były po prawej -->
            <Region HBox.hgrow="ALWAYS"/>

            <!-- Przyciski logowania/rejestracji -->
            <Button text="Zaloguj" fx:id="showLoginButton" prefWidth="100"/>
            <Button text="Utwórz konto" fx:id="showRegisterButton" prefWidth="120"/>

            <!-- Label pokazujący zalogowanego użytkownika -->
            <Label fx:id="loggedInLabel" text="" style="-fx-font-weight: bold; -fx-text-fill: green;"/>
        </HBox>
    </top>

    <!-- ŚRODEK: Wyszukiwarka + formularze + wyniki -->
    <center>
        <StackPane fx:id="mainStack" style="-fx-padding: 20;">
            <!-- 1. Wyszukiwarka lotów -->
            <VBox fx:id="searchPane" spacing="10" alignment="TOP_CENTER">
                <HBox spacing="10" alignment="CENTER">
                    <Label text="Skąd:"/>
                    <TextField fx:id="fromField" prefWidth="120"/>
                    <Label text="Dokąd:"/>
                    <TextField fx:id="toField" prefWidth="120"/>
                    <Label text="Godzina:"/>
                    <TextField fx:id="timeField" promptText="HH:mm" prefWidth="80"/>
                    <Button text="Szukaj" fx:id="searchButton" prefWidth="100"/>
                </HBox>

                <!-- Miejsce na wyniki wyszukiwania lotów -->
                <GridPane fx:id="searchResultsPane" hgap="10" vgap="10" alignment="CENTER"/>
            </VBox>

            <!-- 2. Formularz logowania (na start niewidoczny) -->
            <VBox fx:id="loginPane" spacing="10" alignment="CENTER" visible="false"
                  style="-fx-background-color: white; -fx-padding: 20; -fx-border-color: gray; -fx-border-width: 1;">
                <Label text="Logowanie" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                <Label text="Email:"/>
                <TextField fx:id="loginEmailField" prefWidth="200"/>
                <Label text="Hasło:"/>
                <PasswordField fx:id="loginPasswordField" prefWidth="200"/>
                <Button text="Zaloguj" fx:id="loginButton" prefWidth="100"/>
                <Label fx:id="loginMessageLabel" style="-fx-text-fill: red;"/>
                <Button text="Zamknij" fx:id="closeLoginButton" prefWidth="80"/>
            </VBox>

            <!-- 3. Formularz rejestracji (na start niewidoczny) -->
            <VBox fx:id="registerPane" spacing="10" alignment="CENTER" visible="false"
                  style="-fx-background-color: white; -fx-padding: 20; -fx-border-color: gray; -fx-border-width: 1;">
                <Label text="Rejestracja" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                <Label text="Imię:"/>
                <TextField fx:id="regFirstNameField" prefWidth="200"/>
                <Label text="Nazwisko:"/>
                <TextField fx:id="regLastNameField" prefWidth="200"/>
                <Label text="Email:"/>
                <TextField fx:id="regEmailField" prefWidth="200"/>
                <Label text="Telefon:"/>
                <TextField fx:id="regPhoneField" prefWidth="200"/>
                <Label text="Hasło:"/>
                <PasswordField fx:id="regPasswordField" prefWidth="200"/>
                <Button text="Utwórz konto" fx:id="registerButton" prefWidth="120"/>
                <Label fx:id="registerMessageLabel" style="-fx-text-fill: red;"/>
                <Button text="Zamknij" fx:id="closeRegisterButton" prefWidth="80"/>
            </VBox>

        </StackPane>
    </center>

</BorderPane>
